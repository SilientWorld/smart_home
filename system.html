<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" /> <!-- å­—ç¬¦ç¼–ç  -->
    <title>æ™ºèƒ½å®¶å±…ç³»ç»Ÿ</title> <!-- é¡µé¢æ ‡é¢˜ -->
    <link rel="stylesheet" href="style.css" /> <!-- å¼•å…¥CSSæ ·å¼ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- å¼•å…¥Chart.jsåº“ -->
</head>

<body>
    <div class="header">æ™ºèƒ½å®¶å±…ç³»ç»Ÿ</div> <!-- å¤´éƒ¨ -->
    <div class="subtitle">å®¤å†…ç¯å¢ƒç›‘æµ‹ç•Œé¢</div> <!-- å­æ ‡é¢˜ -->

    <div class="center-panel"> <!-- ä¸­é—´é¢æ¿ -->
        <div class="status-bar" id="status">æ­£åœ¨è¿æ¥...</div> <!-- çŠ¶æ€æ  -->
        <div class="data-grid"> <!-- æ•°æ®ç½‘æ ¼ -->
            <!-- æ¸©åº¦æ•°æ®é¡¹ -->
            <div class="data-item">
                <div class="data-icon">ğŸŒ¡ï¸</div> <!-- æ¸©åº¦å›¾æ ‡ -->
                <div class="data-label">æ¸©åº¦</div> <!-- æ ‡ç­¾ -->
                <div class="data-value" id="temp">--</div> <!-- æ•°å€¼ -->
                <div class="data-unit">â„ƒ</div> <!-- å•ä½ -->
            </div>

            <!-- æ¹¿åº¦æ•°æ®é¡¹ -->
            <div class="data-item">
                <div class="data-icon">ğŸ’§</div>
                <div class="data-label">æ¹¿åº¦</div>
                <div class="data-value" id="humi">--</div>
                <div class="data-unit">%</div>
            </div>

            <!-- å…‰ç…§å¼ºåº¦æ•°æ®é¡¹ -->
            <div class="data-item">
                <div class="data-icon">ğŸ’¡</div>
                <div class="data-label">å…‰ç…§å¼ºåº¦</div>
                <div class="data-value" id="lux">--</div>
                <div class="data-unit">lux</div>
            </div>

            <!-- COâ‚‚æµ“åº¦æ•°æ®é¡¹ -->
            <div class="data-item">
                <div class="data-icon">ğŸ’¨</div>
                <div class="data-label">COâ‚‚æµ“åº¦</div>
                <div class="data-value" id="co2">--</div>
                <div class="data-unit">ppm</div>
            </div>

            <!-- PM2.5æ•°æ®é¡¹ -->
            <div class="data-item">
                <div class="data-icon">ğŸŒ«ï¸</div>
                <div class="data-label">PM2.5</div>
                <div class="data-value" id="pm2_5">--</div>
                <div class="data-unit">Î¼g/mÂ³</div>
            </div>

            <!-- èœ‚é¸£å™¨çŠ¶æ€æ•°æ®é¡¹ -->
            <div class="data-item">
                <div class="data-icon">ğŸ””</div>
                <div class="data-label">èœ‚é¸£å™¨çŠ¶æ€</div>
                <div class="data-value" id="ts">--</div>
            </div>
        </div>
    </div>

    <!-- èœ‚é¸£å™¨éŸ³é¢‘ -->
    <audio id="buzzerSound" src="./emergency-alarm-with-reverb-29431.mp3" preload="auto" loop></audio>

    <!-- å›¾è¡¨é€‰æ‹©å™¨ -->
    <div style="text-align: center; margin: 20px;">
        <label for="chartSelect">æŸ¥çœ‹è¶‹åŠ¿å›¾ï¼š</label>
        <select id="chartSelect">
            <option value="temp">æ¸©åº¦</option>
            <option value="humi">æ¹¿åº¦</option>
            <option value="lux">å…‰ç…§å¼ºåº¦</option>
            <option value="co2">COâ‚‚æµ“åº¦</option>
            <option value="pm2_5">PM2.5</option>
        </select>
    </div>

    <!-- å›¾è¡¨å®¹å™¨ -->
    <div class="chart-container">
        <canvas id="tempChart" height="100"></canvas>
        <canvas id="humiChart" height="100"></canvas>
        <canvas id="luxChart" height="100"></canvas>
        <canvas id="co2Chart" height="100"></canvas>
        <canvas id="pm25Chart" height="100"></canvas>
    </div>

    <!-- å¼•å…¥ä¾èµ–è„šæœ¬ -->
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
    <script src="cloud.js"></script>
    <script src="chart.js"></script>

    <!-- èƒŒæ™¯åˆ‡æ¢è„šæœ¬ -->
    <script>
        const backgrounds = [
            'linear-gradient(135deg, #e3fdf6 0%, #f9fbe7 100%)',
            'linear-gradient(135deg, #e8f5e9 0%, #fffde7 100%)',
            'linear-gradient(135deg, #e0f2f1 0%, #fce4ec 100%)',
            'linear-gradient(135deg, #f3e5f5 0%, #efebe9 100%)',
            'linear-gradient(135deg, #e3f2fd 0%, #ffebee 100%)'
        ];

        let currentBgIndex = 0;

        function changeBackground() {
            document.body.style.background = backgrounds[currentBgIndex];
            currentBgIndex = (currentBgIndex + 1) % backgrounds.length;
        }

        document.body.style.background = backgrounds[currentBgIndex];
        setInterval(changeBackground, 3000);
    </script>
</body>

</html>